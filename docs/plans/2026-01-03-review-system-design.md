# å¤ä¹ ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

> æ—¥æœŸ: 2026-01-03  
> çŠ¶æ€: å·²é€šè¿‡è¯„å®¡

## æ¦‚è¿°

è®¾è®¡ä¸€ä¸ªåŸºäº SM-2 ç®—æ³•çš„é—´éš”é‡å¤å¤ä¹ ç³»ç»Ÿï¼Œç”¨äºå·©å›º Sentence Study æ¨¡å¼ä¸­å­¦ä¹ çš„å†…å®¹ã€‚

## æ ¸å¿ƒè®¾è®¡å†³ç­–

| å†³ç­–ç‚¹ | é€‰æ‹© | ç†ç”± |
|-------|------|------|
| ç›®æ ‡ç”¨æˆ· | æ—¥å¸¸å­¦ä¹ è€…ä¼˜å…ˆï¼Œå…¼é¡¾å¤‡è€ƒ | è¦†ç›–ä¸»æµåœºæ™¯ |
| å¤ä¹ å•ä½ | å¥å­ï¼ˆå¸¦è¯­å¢ƒï¼‰ | è¯æ±‡ä¸èƒ½è„±ç¦»è¯­å¢ƒ |
| äº¤äº’æ–¹å¼ | è¢«åŠ¨å›å¿†ï¼ˆç¿»å¡ï¼‰ | ç”¨æˆ·è´Ÿæ‹…æœ€å° |
| è¯„åˆ†é€‰é¡¹ | 3 ä¸ªæŒ‰é’® | å¹³è¡¡ç®€æ´ä¸ç²¾åº¦ |
| ç®—æ³• | SM-2 | æˆç†Ÿå¯é  |

---

## 1. å¤ä¹ å¯¹è±¡

### è¿›å…¥å¤ä¹ é˜Ÿåˆ—çš„æ¡ä»¶

| å­¦ä¹ æ—¶çš„è¡Œä¸º | æ˜¯å¦å¤ä¹  |
|-------------|---------|
| ç‚¹å‡» "Unclear" | âœ… æ˜¯ |
| ç‚¹å‡» "Clear"ï¼Œä½†æŸ¥è¿‡è¯/çŸ­è¯­ | âœ… æ˜¯ |
| ç‚¹å‡» "Clear"ï¼Œæ— ä»»ä½•äº¤äº’ | âŒ å¦ |

### å¤ä¹ æ—¶å±•ç¤ºå†…å®¹

- å¥å­åŸæ–‡
- é«˜äº®ç”¨æˆ·æ›¾æŸ¥è¿‡çš„è¯/çŸ­è¯­
- å°æ ‡ç­¾æ˜¾ç¤ºæ¥æºæ–‡ç« å’Œå›°éš¾ç±»å‹

---

## 2. SM-2 è°ƒåº¦ç®—æ³•

### æ ¸å¿ƒå‚æ•°

| å‚æ•° | è¯´æ˜ | åˆå§‹å€¼ |
|-----|------|-------|
| Easiness Factor (EF) | éš¾åº¦å› å­ | 2.5 |
| Interval | å¤ä¹ é—´éš”ï¼ˆå¤©ï¼‰ | 1 |
| Repetition | è¿ç»­æˆåŠŸæ¬¡æ•° | 0 |

### è¯„åˆ†æ˜ å°„

| ç”¨æˆ·æ“ä½œ | Quality |
|---------|---------|
| ğŸ”´ å¿˜äº† | 1 |
| âœ… æƒ³èµ·æ¥äº† | 3 |
| âš¡ å¤ªç®€å• | 5 |

### é—´éš”è®¡ç®—

**å¤±è´¥ (Q < 3)**ï¼š
- Repetition = 0
- Interval = 1 å¤©

**æˆåŠŸ (Q â‰¥ 3)**ï¼š
- ç¬¬ 1 æ¬¡ï¼šInterval = 1 å¤©
- ç¬¬ 2 æ¬¡ï¼šInterval = 6 å¤©
- ç¬¬ n æ¬¡ï¼šInterval = ä¸Šæ¬¡é—´éš” Ã— EF

### EF è°ƒæ•´å…¬å¼

```
æ–° EF = EF + (0.1 - (5 - Q) Ã— (0.08 + (5 - Q) Ã— 0.02))
æ–° EF = max(1.3, æ–° EF)
```

---

## 3. è®°å¿†æ›²çº¿

### åŒæ›²çº¿å¯¹æ¯”

**æ ‡å‡† Ebbinghaus æ›²çº¿**ï¼š
```
R(t) = e^(-t/S)   // S = ç¨³å®šæ€§å¸¸æ•°ï¼Œé»˜è®¤ 10
```

**ç”¨æˆ·å®é™…æ›²çº¿**ï¼š
- åœ¨ 1/3/7/14/30 å¤©å„æ—¶é—´ç‚¹ç»Ÿè®¡
- ä¿ç•™ç‡ = æˆåŠŸå›å¿†æ•° / æ€»å¤ä¹ æ•°
- æˆåŠŸ = "æƒ³èµ·æ¥äº†" æˆ– "å¤ªç®€å•"

### å¯è§†åŒ–

- X è½´ï¼šå¤ä¹ é—´éš”å¤©æ•°ï¼ˆSM-2 è°ƒåº¦é—´éš”ï¼‰
- Y è½´ï¼šä¿ç•™ç‡ (0% - 100%)
- è“çº¿ï¼šç†è®ºæ›²çº¿ï¼ˆEbbinghaus å‚è€ƒåŸºå‡†ï¼‰
- ç»¿çº¿ï¼šç”¨æˆ·åœ¨è¯¥é—´éš”ä¸‹çš„å®é™…æˆåŠŸç‡

> æ³¨ï¼šX è½´æ˜¾ç¤ºçš„æ˜¯ SM-2 å¤ä¹ é—´éš”è€Œé"è·é¦–æ¬¡å­¦ä¹ å¤©æ•°"ï¼Œ
> å› ä¸ºå¯¹äºä½¿ç”¨é—´éš”é‡å¤çš„ç”¨æˆ·ï¼Œè¿™æ›´æœ‰å®æ“å‚è€ƒä»·å€¼ã€‚

---

## 4. æ•°æ®æ¨¡å‹

### ReviewItemï¼ˆå¤ä¹ é¡¹ï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| id | int | ä¸»é”® |
| user_id | string | ç”¨æˆ·æ ‡è¯† |
| source_id | string | æ–‡ç« æ¥æº |
| sentence_index | int | å¥å­ç´¢å¼• |
| sentence_text | string | å¥å­åŸæ–‡ |
| highlighted_items | json | æŸ¥è¿‡çš„è¯/çŸ­è¯­ |
| difficulty_type | string | å›°éš¾ç±»å‹ |
| easiness_factor | float | EF å€¼ |
| interval_days | float | å½“å‰é—´éš” |
| repetition | int | è¿ç»­æˆåŠŸæ¬¡æ•° |
| next_review_at | datetime | ä¸‹æ¬¡å¤ä¹ æ—¶é—´ |
| last_reviewed_at | datetime | ä¸Šæ¬¡å¤ä¹ æ—¶é—´ |
| created_at | datetime | é¦–æ¬¡å­¦ä¹ æ—¶é—´ |

### ReviewLogï¼ˆå¤ä¹ è®°å½•ï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| id | int | ä¸»é”® |
| review_item_id | int | å…³è”å¤ä¹ é¡¹ |
| quality | int | è¯„åˆ† (1/3/5) |
| interval_at_review | float | å¤ä¹ æ—¶çš„é—´éš” |
| reviewed_at | datetime | å¤ä¹ æ—¶é—´ |

---

## 5. API è®¾è®¡

### è·å–å¤ä¹ é˜Ÿåˆ—

```
GET /api/review/queue
Response: { items: ReviewItem[], count: int }
```

### æäº¤å¤ä¹ ç»“æœ

```
POST /api/review/complete
Body: { item_id: int, quality: int }
Response: { next_review_at, new_interval, new_ef }
```

### åˆ›å»ºå¤ä¹ é¡¹

```
POST /api/review/create
Body: { source_id, sentence_index, sentence_text, highlighted_items, difficulty_type }
```

### è·å–è®°å¿†æ›²çº¿

```
GET /api/review/memory-curve
Response: { theoretical: [...], actual: [...] }
```

---

## 6. å‰ç«¯ UI

### å¤ä¹ é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Review Queue                    ğŸ”„  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“– Climate Today Â· ğŸ·ï¸ vocab        â”‚  â† å°æ ‡ç­¾
â”‚                                     â”‚
â”‚  "The unprecedented surge in        â”‚
â”‚   climate awareness has led to      â”‚
â”‚   significant policy changes."      â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å¿˜äº†  â”‚  â”‚ æƒ³èµ·æ¥äº†  â”‚  â”‚å¤ªç®€å• â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç©ºçŠ¶æ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              âœ…                      â”‚
â”‚        æš‚æ— å¾…å¤ä¹ å†…å®¹                 â”‚
â”‚                                     â”‚
â”‚       ç»§ç»­å­¦ä¹ æ–°å†…å®¹å§ï¼              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®ç°ä¼˜å…ˆçº§

1. **P0**: æ•°æ®æ¨¡å‹ + åˆ›å»ºå¤ä¹ é¡¹é€»è¾‘
2. **P0**: å¤ä¹ é˜Ÿåˆ— API + SM-2 ç®—æ³•
3. **P1**: å¤ä¹ é¡µé¢ UI
4. **P2**: è®°å¿†æ›²çº¿ç»Ÿè®¡ä¸å¯è§†åŒ–
