---
name: Dictionary Maintenance
description: Guide for maintaining dictionary parsers, including Golden Standard testing.
---

# Dictionary Maintenance

This skill covers maintenance procedures for the dictionary parsers (Collins, LDOCE).

## LDOCE Golden Standard Testing

To prevent parser regressions, we use a golden standard test framework.

### Running Tests

```bash
# Run golden standard tests
uv run pytest tests/test_ldoce_parser_golden.py -v
```

### Generating Test Data

When adding support for new words or debugging parser issues:

```bash
# Generate golden standard test data for a word
uv run python scripts/generate_ldoce_golden.py <word>
```

### Test Data Structure

Location: `resources/test_data/ldoce_golden/`
- `{word}.html` - Raw HTML from MDX dictionary
- `{word}_expected.json` - Verified expected output (The "Truth")
- `{word}_current.json` - Current parser output (generated by tests)

### Workflow: Adding New Test Words

1. Run `generate_ldoce_golden.py <word>` to create initial test data.
2. Verify `_current.json` matches the actual dictionary content manually.
3. If correct, copy content from `_current.json` to `_expected.json` to establish the baseline.
4. Add the word to the `@pytest.mark.parametrize` list in `tests/test_ldoce_parser_golden.py`.
